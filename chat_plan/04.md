[Task 4] Supabase Realtime + useInfiniteQuery + Virtuoso 브리징

이제 ChatMessageList와 데이터 계층을 연결해줘.

요구사항:

1) useInfiniteQuery 훅 정의/수정
   - 특정 roomId에 대한 메시지를 페이징으로 가져오는 useInfiniteQuery 훅을
     새로 만들거나 기존 훅을 확장해라 (예: useRoomMessagesInfiniteQuery).
   - pageParam 구조는 "createdAt + id" 커서 기반을 추천하고,
     getPreviousPageParam / getNextPageParam을 채팅에 맞게 설계해라.:contentReference[oaicite:10]{index=10}
   - 반환 타입은 InfiniteData<MessagePage> 형태를 유지하면서
     - flat한 messages 배열
     - hasMoreBefore, isLoadingMoreBefore
     를 메모이제이션하거나 selector로 제공해라.

2) Supabase Realtime 통합
   - roomId 별 메시지에 대해 Supabase Realtime(Postgres Changes)의 INSERT 이벤트를 구독하는 훅
     (예: useRoomMessagesRealtime(roomId))을 만들거나 기존 것을 수정해라.
   - 이 훅은 새 메시지를
     - useInfiniteQuery 캐시(마지막 페이지)에 append하거나,
     - 별도의 "realtimeMessages" 리스트로 관리한 뒤
       ChatMessageList props에서 merge하는 방식을 택해라.
   - optimistic 메시지 / 중복 제거를 위해 clientMessageId 등을 사용할지 여부도 판단해 설계해라.

3) ChatRoom 페이지에 통합
   - 채팅 방 페이지 컴포넌트에서:
     - useRoomMessagesInfiniteQuery
     - useRoomMessagesRealtime
     를 사용해 messages / hasMoreBefore / isLoadingMoreBefore를 만들고,
     이를 ChatMessageList에 넘기는 코드를 작성해라.
   - onReachBottomChange로 "현재 아래에 있음" 상태를 받아서,
     - 아래에 있을 때만 새 메시지 자동 스크롤,
     - 아니면 "새 메시지 N개" 배지를 보여줄 수 있도록
       상태 필드를 설계해줘.

4) 출력 형식
   - 변경/추가된 훅 파일 경로와 코드
   - 채팅 페이지 컴포넌트의 변경 내용
   - 데이터 흐름 요약 다이어그램(텍스트)
   를 포함해라.
